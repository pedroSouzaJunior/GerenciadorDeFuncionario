<div class="container">
  <div class="header">
    <div class="header-content">
      <div>
        <h2>Bem-vindo ao Gerenciador de FuncionÃ¡rios ğŸ‘‹</h2>
        <p>Gerencie os funcionÃ¡rios da empresa de forma simples e eficiente. Cadastre novos funcionÃ¡rios, visualize detalhes e edite informaÃ§Ãµes.</p>
      </div>
      <div class="buttons">
        <button class="add-btn" (click)="abrirModalCadastro()">â• Cadastrar FuncionÃ¡rio</button>
        <button class="logout-btn" (click)="logout()">ğŸšª Sair</button>
      </div>
    </div>
  </div>
  
  <!-- EspaÃ§amento antes da tabela -->
  <div class="spacer"></div>
  
  <table *ngIf="!loading" class="styled-table">
    <thead>
      <tr>
        <th style="width: 8%;">ID</th>
        <th style="width: 22%;">Nome Completo</th>
        <th style="width: 18%;">Email</th>
        <th style="width: 12%;">Documento</th>
        <th style="width: 12%;">Data de Nascimento</th>
        <th style="width: 14%;">Telefones</th>
        <th style="width: 10%;">FunÃ§Ã£o</th>
        <th style="width: 14%;">AÃ§Ãµes</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let funcionario of funcionarios">
        <td>{{ funcionario.id }}</td>
        <td>{{ funcionario.nome }} {{ funcionario.sobrenome }}</td>
        <td>{{ funcionario.email }}</td>
        <td>{{ funcionario.documento }}</td>
        <td>{{ funcionario.dataNascimento | date:'dd/MM/yyyy' }}</td>
        <td>
          <ul>
            <li *ngFor="let telefone of funcionario.telefones">
              ğŸ“ {{ telefone.tipo }}: {{ telefone.numero }}
            </li>
          </ul>
        </td>
        <td>{{ funcionario.role }}</td>
        <td class="action-buttons">
          <button class="btn btn-view" (click)="abrirModal(funcionario)">ğŸ‘€ Exibir</button>
          <button class="btn btn-edit" (click)="abrirModalEdicao(funcionario)">âœï¸ Editar</button>
          <button 
            class="btn btn-delete"
            (click)="abrirModalExclusao(funcionario)"
            matTooltip="Apenas administradores podem excluir funcionÃ¡rios"
            matTooltipPosition="above">
            ğŸ—‘ï¸ Excluir
          </button>
        </td>
      </tr>
    </tbody>
  </table>
  
</div>

<!-- Modal -->
<app-funcionario-detalhes 
  [funcionario]="funcionarioSelecionado" 
  [gestoresDisponiveis]="funcionarios"
  [isOpen]="modalAberto"
  (fechar)="fecharModal()">
</app-funcionario-detalhes>

<app-funcionario-cadastro 
  *ngIf="modalCadastroAberto"
  [gestoresDisponiveis]="funcionarios"
  (fechar)="fecharModalCadastro()"
  (funcionarioAdicionado)="fecharModalCadastro()">
</app-funcionario-cadastro>

<app-funcionario-edicao 
  *ngIf="modalEdicaoAberto"
  [funcionario]="funcionarioSelecionado"
  [gestoresDisponiveis]="funcionarios"
  [isOpen]="modalEdicaoAberto"
  (fechar)="fecharModalEdicao()"
  (funcionarioAtualizado)="fecharModalEdicao()">
</app-funcionario-edicao>

<app-funcionario-exclusao
  *ngIf="modalExclusaoAberto"
  [funcionario]="funcionarioParaExcluir"
  (fechar)="fecharModalExclusao()"
  (funcionarioExcluido)="onFuncionarioExcluido()">
</app-funcionario-exclusao>
