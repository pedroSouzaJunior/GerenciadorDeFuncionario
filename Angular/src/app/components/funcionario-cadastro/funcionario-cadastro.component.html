<div class="modal-overlay">
    <div class="modal-container">
      <h2 class="modal-title">Cadastrar Funcionário</h2>
  
      <form (ngSubmit)="cadastrarFuncionario()">
        <!-- Grid para organizar os campos -->
        <div class="form-grid">
          <div class="form-group">
            <label for="nome">Nome:</label>
            <input type="text" id="nome" [(ngModel)]="funcionario.nome" name="nome" required />
          </div>
  
          <div class="form-group">
            <label for="sobrenome">Sobrenome:</label>
            <input type="text" id="sobrenome" [(ngModel)]="funcionario.sobrenome" name="sobrenome" required />
          </div>
  
          <div class="form-group">
            <label for="email">E-mail:</label>
            <input type="email" id="email" [(ngModel)]="funcionario.email" name="email" required />
          </div>
  
          <div class="form-group">
            <label for="documento">Documento (CPF):</label>
            <input type="text" id="documento" [(ngModel)]="funcionario.documento" class="form-control" maxlength="11" required />
          </div>          
  
          <div class="form-group">
            <label for="dataNascimento">Data de Nascimento:</label>
            <input type="date" id="dataNascimento" [(ngModel)]="funcionario.dataNascimento" name="dataNascimento" required />
          </div>
  
          <div class="form-group">
            <label for="role">Função:</label>
            <select id="role" [(ngModel)]="funcionario.role" name="role">
              <option value="Usuario">Usuário</option>
              <option value="Admin">Administrador</option>
            </select>
          </div>

          <div class="form-group">
            <label for="senha">Senha:</label>
            <input 
              type="password" 
              id="senha" 
              [(ngModel)]="funcionario.senha" 
              class="form-control" 
              required 
              (input)="senhaValida = validarSenha(funcionario.senha)"
              [ngClass]="{ 'is-invalid': funcionario.senha && !senhaValida, 'is-valid': senhaValida }"
            />
            <div class="invalid-feedback">
              A senha deve ter pelo menos 8 caracteres, incluindo uma maiúscula, uma minúscula, um número e um caractere especial.
            </div>
          </div>
          
        </div>
  
        <!-- Telefones -->
        <div class="telefones-container">
          <label>Telefones:</label>
          <div *ngFor="let telefone of funcionario.telefones; let i = index" class="telefone-item">
            <select [(ngModel)]="telefone.tipo" name="tipo-{{i}}">
              <option value="Celular">Celular</option>
              <option value="Residencial">Residencial</option>
              <option value="Comercial">Comercial</option>
            </select>
            <input type="text" [(ngModel)]="telefone.numero" name="numero-{{i}}" placeholder="Número" />
            <button type="button" class="remove-btn" (click)="removerTelefone(i)">❌</button>
          </div>
          <button type="button" class="add-btn" (click)="adicionarTelefone()">➕ Adicionar Telefone</button>
        </div>
  
        <!-- Feedback de carregamento e sucesso -->
        <div *ngIf="loading" class="loading">⏳ Processando...</div>
        <div *ngIf="sucesso" class="success-message">✅ Funcionário cadastrado com sucesso!</div>
  
        <!-- Botões -->
        <div class="modal-buttons">
          <button type="submit" [disabled]="loading">Cadastrar</button>
          <button type="button" class="cancel-btn" (click)="fechar.emit()">Cancelar</button>
        </div>
      </form>
    </div>
  </div>
  